import{n as Q,p as K,q as Re,a1 as ge,c as v,b as z,w as Z,x as s,m as Fe,l as ne,a2 as oe,v as re,t as E,s as ue,r as Y,a3 as Ne,L as $e,K as Be,a4 as ye,a5 as Ie,j as Pe,a6 as Me,i as Se,D as Ee,a7 as Le,a8 as de,a9 as ze,aa as De,E as Oe,B as ce,F as je,ab as ke,ac as Ue,ad as We,a as Ae,o as Ke,Q as qe,S as ve,ae as me,W as fe,X as O,_ as te,af as Ge,Z as Je,ag as he,ah as be}from"./index-DCsvryhv.js";import{V as ae}from"./VContainer-CLzposn_.js";import{V as Xe,u as Ye,a as pe,b as Qe,m as Ze,c as He,d as et,e as tt,f as at}from"./VTextField-BK_V81Rc.js";import{b as lt,V as nt}from"./forwardRefs-DVQ9_wDa.js";const rt=K({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ne(),...Fe()},"VDivider"),le=Q()({name:"VDivider",props:rt(),setup(e,t){let{attrs:n,slots:m}=t;const{themeClasses:p}=Re(e),{textColorClasses:w,textColorStyles:o}=ge(()=>e.color),l=v(()=>{const f={};return e.length&&(f[e.vertical?"height":"width"]=z(e.length)),e.thickness&&(f[e.vertical?"borderRightWidth":"borderTopWidth"]=z(e.thickness)),f});return Z(()=>{const f=s("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},p.value,w.value,e.class],style:[l.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return m.default?s("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[f,s("div",{class:"v-divider__content"},[m.default()]),f]):f}),{}}}),se=Symbol.for("vuetify:v-slider");function st(e,t,n){const m=n==="vertical",p=t.getBoundingClientRect(),w="touches"in e?e.touches[0]:e;return m?w.clientY-(p.top+p.height/2):w.clientX-(p.left+p.width/2)}function it(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const ot=K({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Be(),...$e({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),ut=e=>{const t=v(()=>parseFloat(e.min)),n=v(()=>parseFloat(e.max)),m=v(()=>Number(e.step)>0?parseFloat(e.step):0),p=v(()=>Math.max(oe(m.value),oe(t.value)));function w(o){if(o=parseFloat(o),m.value<=0)return o;const l=ye(o,t.value,n.value),f=t.value%m.value,F=Math.round((l-f)/m.value)*m.value+f;return parseFloat(Math.min(F,n.value).toFixed(p.value))}return{min:t,max:n,step:m,decimals:p,roundValue:w}},dt=e=>{let{props:t,steps:n,onSliderStart:m,onSliderMove:p,onSliderEnd:w,getActiveThumb:o}=e;const{isRtl:l}=re(),f=E(()=>t.reverse),F=v(()=>t.direction==="vertical"),N=v(()=>F.value!==f.value),{min:C,max:R,step:B,decimals:M,roundValue:u}=n,r=v(()=>parseInt(t.thumbSize,10)),i=v(()=>parseInt(t.tickSize,10)),d=v(()=>parseInt(t.trackSize,10)),h=v(()=>(R.value-C.value)/B.value),_=E(()=>t.disabled),S=v(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),b=v(()=>t.error||t.disabled?void 0:t.trackColor??t.color),k=v(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),y=ue(!1),V=ue(0),I=Y(),P=Y();function g(a){var ie;const c=(ie=I.value)==null?void 0:ie.$el;if(!c)return;const j=t.direction==="vertical",Ve=j?"top":"left",xe=j?"height":"width",we=j?"clientY":"clientX",{[Ve]:Ce,[xe]:_e}=c.getBoundingClientRect(),Te=it(a,we);let ee=Math.min(Math.max((Te-Ce-V.value)/_e,0),1)||0;return(j?N.value:N.value!==l.value)&&(ee=1-ee),u(C.value+ee*(R.value-C.value))}const L=a=>{const c=g(a);c!=null&&w({value:c}),y.value=!1,V.value=0},D=a=>{const c=g(a);P.value=o(a),P.value&&(y.value=!0,P.value.contains(a.target)?V.value=st(a,P.value,t.direction):(V.value=0,c!=null&&p({value:c})),c!=null&&m({value:c}),Ie(()=>{var j;return(j=P.value)==null?void 0:j.focus()}))},$={passive:!0,capture:!0};function U(a){const c=g(a);c!=null&&p({value:c})}function q(a){a.stopPropagation(),a.preventDefault(),L(a),window.removeEventListener("mousemove",U,$),window.removeEventListener("mouseup",q)}function G(a){var c;L(a),window.removeEventListener("touchmove",U,$),(c=a.target)==null||c.removeEventListener("touchend",G)}function H(a){var c;D(a),window.addEventListener("touchmove",U,$),(c=a.target)==null||c.addEventListener("touchend",G,{passive:!1})}function T(a){a.button===0&&(a.preventDefault(),D(a),window.addEventListener("mousemove",U,$),window.addEventListener("mouseup",q,{passive:!1}))}const x=a=>{const c=(a-C.value)/(R.value-C.value)*100;return ye(isNaN(c)?0:c,0,100)},W=E(()=>t.showTicks),A=v(()=>W.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(a=>({value:a,position:x(a),label:a.toString()})):Object.keys(t.ticks).map(a=>({value:parseFloat(a),position:x(parseFloat(a)),label:t.ticks[a]})):h.value!==1/0?Ne(h.value+1).map(a=>{const c=C.value+a*B.value;return{value:c,position:x(c)}}):[]:[]),J=v(()=>A.value.some(a=>{let{label:c}=a;return!!c})),X={activeThumbRef:P,color:E(()=>t.color),decimals:M,disabled:_,direction:E(()=>t.direction),elevation:E(()=>t.elevation),hasLabels:J,isReversed:f,indexFromEnd:N,min:C,max:R,mousePressed:y,numTicks:h,onSliderMousedown:T,onSliderTouchstart:H,parsedTicks:A,parseMouseMove:g,position:x,readonly:E(()=>t.readonly),rounded:E(()=>t.rounded),roundValue:u,showTicks:W,startOffset:V,step:B,thumbSize:r,thumbColor:S,thumbLabel:E(()=>t.thumbLabel),ticks:E(()=>t.ticks),tickSize:i,trackColor:b,trackContainerRef:I,trackFillColor:k,trackSize:d,vertical:F};return Pe(se,X),X},ct=K({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...ne()},"VSliderThumb"),vt=Q()({name:"VSliderThumb",directives:{Ripple:Me},props:ct(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:m}=t;const p=Se(se),{isRtl:w,rtlClasses:o}=re();if(!p)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:f,disabled:F,thumbSize:N,thumbLabel:C,direction:R,isReversed:B,vertical:M,readonly:u,elevation:r,mousePressed:i,decimals:d,indexFromEnd:h}=p,_=v(()=>F.value?void 0:r.value),{elevationClasses:S}=Ee(_),{textColorClasses:b,textColorStyles:k}=ge(l),{pageup:y,pagedown:V,end:I,home:P,left:g,right:L,down:D,up:$}=Le,U=[y,V,I,P,g,L,D,$],q=v(()=>f.value?[1,2,3]:[1,5,10]);function G(T,x){if(!U.includes(T.key))return;T.preventDefault();const W=f.value||.1,A=(e.max-e.min)/W;if([g,L,D,$].includes(T.key)){const X=(M.value?[w.value?g:L,B.value?D:$]:h.value!==w.value?[g,$]:[L,$]).includes(T.key)?1:-1,a=T.shiftKey?2:T.ctrlKey?1:0;x=x+X*W*q.value[a]}else if(T.key===P)x=e.min;else if(T.key===I)x=e.max;else{const J=T.key===V?1:-1;x=x-J*W*(A>100?A/10:10)}return Math.max(e.min,Math.min(e.max,x))}function H(T){const x=G(T,e.modelValue);x!=null&&m("update:modelValue",x)}return Z(()=>{const T=z(h.value?100-e.position:e.position,"%");return s("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&i.value},e.class,o.value],style:[{"--v-slider-thumb-position":T,"--v-slider-thumb-size":z(N.value)},e.style],role:"slider",tabindex:F.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!u.value,"aria-orientation":R.value,onKeydown:u.value?void 0:H},[s("div",{class:["v-slider-thumb__surface",b.value,S.value],style:{...k.value}},null),de(s("div",{class:["v-slider-thumb__ripple",b.value],style:k.value},null),[[ze("ripple"),e.ripple,null,{circle:!0,center:!0}]]),s(Xe,{origin:"bottom center"},{default:()=>{var x;return[de(s("div",{class:"v-slider-thumb__label-container"},[s("div",{class:["v-slider-thumb__label"]},[s("div",null,[((x=n["thumb-label"])==null?void 0:x.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(f.value?d.value:1)])])]),[[De,C.value&&e.focused||C.value==="always"]])]}})])}),{}}}),mt=K({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ne()},"VSliderTrack"),ft=Q()({name:"VSliderTrack",props:mt(),emits:{},setup(e,t){let{slots:n}=t;const m=Se(se);if(!m)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:p,parsedTicks:w,rounded:o,showTicks:l,tickSize:f,trackColor:F,trackFillColor:N,trackSize:C,vertical:R,min:B,max:M,indexFromEnd:u}=m,{roundedClasses:r}=Oe(o),{backgroundColorClasses:i,backgroundColorStyles:d}=ce(N),{backgroundColorClasses:h,backgroundColorStyles:_}=ce(F),S=v(()=>`inset-${R.value?"block":"inline"}-${u.value?"end":"start"}`),b=v(()=>R.value?"height":"width"),k=v(()=>({[S.value]:"0%",[b.value]:"100%"})),y=v(()=>e.stop-e.start),V=v(()=>({[S.value]:z(e.start,"%"),[b.value]:z(y.value,"%")})),I=v(()=>l.value?(R.value?w.value.slice().reverse():w.value).map((g,L)=>{var $;const D=g.value!==B.value&&g.value!==M.value?z(g.position,"%"):void 0;return s("div",{key:g.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":g.position>=e.start&&g.position<=e.stop,"v-slider-track__tick--first":g.value===B.value,"v-slider-track__tick--last":g.value===M.value}],style:{[S.value]:D}},[(g.label||n["tick-label"])&&s("div",{class:"v-slider-track__tick-label"},[(($=n["tick-label"])==null?void 0:$.call(n,{tick:g,index:L}))??g.label])])}):[]);return Z(()=>s("div",{class:["v-slider-track",r.value,e.class],style:[{"--v-slider-track-size":z(C.value),"--v-slider-tick-size":z(f.value)},e.style]},[s("div",{class:["v-slider-track__background",h.value,{"v-slider-track__background--opacity":!!p.value||!N.value}],style:{...k.value,..._.value}},null),s("div",{class:["v-slider-track__fill",i.value],style:{...V.value,...d.value}},null),l.value&&s("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[I.value])])),{}}}),ht=K({...He(),...ot(),...Ze(),modelValue:{type:[Number,String],default:0}},"VSlider"),bt=Q()({name:"VSlider",props:ht(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:m}=t;const p=Y(),{rtlClasses:w}=re(),o=ut(e),l=je(e,"modelValue",void 0,b=>o.roundValue(b??o.min.value)),{min:f,max:F,mousePressed:N,roundValue:C,onSliderMousedown:R,onSliderTouchstart:B,trackContainerRef:M,position:u,hasLabels:r,readonly:i}=dt({props:e,steps:o,onSliderStart:()=>{m("start",l.value)},onSliderEnd:b=>{let{value:k}=b;const y=C(k);l.value=y,m("end",y)},onSliderMove:b=>{let{value:k}=b;return l.value=C(k)},getActiveThumb:()=>{var b;return(b=p.value)==null?void 0:b.$el}}),{isFocused:d,focus:h,blur:_}=Ye(e),S=v(()=>u(l.value));return Z(()=>{const b=pe.filterProps(e),k=!!(e.label||n.label||n.prepend);return s(pe,Ue({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||r.value,"v-slider--focused":d.value,"v-slider--pressed":N.value,"v-slider--disabled":e.disabled},w.value,e.class],style:e.style},b,{focused:d.value}),{...n,prepend:k?y=>{var V,I;return s(ke,null,[((V=n.label)==null?void 0:V.call(n,y))??(e.label?s(Qe,{id:y.id.value,class:"v-slider__label",text:e.label},null):void 0),(I=n.prepend)==null?void 0:I.call(n,y)])}:void 0,default:y=>{let{id:V,messagesId:I}=y;return s("div",{class:"v-slider__container",onMousedown:i.value?void 0:R,onTouchstartPassive:i.value?void 0:B},[s("input",{id:V.value,name:e.name||V.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:l.value},null),s(ft,{ref:M,start:0,stop:S.value},{"tick-label":n["tick-label"]}),s(vt,{ref:p,"aria-describedby":I.value,focused:d.value,min:f.value,max:F.value,modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,position:S.value,elevation:e.elevation,onFocus:h,onBlur:_,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),pt={class:"page-root"},gt={__name:"index",setup(e){const t=["IR","Red","Green","Blue","White","UV"],n=`http://${window.location.hostname}:8080`,m={IR:"#ff5252",Red:"#ff5252",Green:"#4caf50",Blue:"#2196f3",White:"#e0e0e0",UV:"#7c4dff"},p=v(()=>l.value==="White"?"#333":"#fff"),o=Ae({...{IR:0,Red:0,Green:0,Blue:0,White:0,UV:0}}),l=Y("IR");let f=null;Ke(()=>{f=setInterval(async()=>{try{const d=await(await fetch(`${n}/api/state`)).json();d.lighting&&["IR","Red","Green","Blue","White","UV"].forEach((_,S)=>{o[_]=d.lighting[S]})}catch(i){console.error("Error fetching state:",i)}},1e3);const u=localStorage.getItem("lightSliderValues");u&&Object.assign(o,JSON.parse(u));const r=localStorage.getItem("selectedChip");r&&t.includes(r)&&(l.value=r)}),qe(()=>{f&&clearInterval(f)}),ve(o,u=>{localStorage.setItem("lightSliderValues",JSON.stringify(u))},{deep:!0}),ve(l,u=>{localStorage.setItem("selectedChip",u)});function F(){return["IR","Red","Green","Blue","White","UV"].map(r=>Number(o[r])||0)}function N(){localStorage.setItem("lightSliderValues",JSON.stringify(o)),B(F(),R())}function C(u){u>100?o[l.value]=100:u<0&&(o[l.value]=0),N()}function R(){const u=["IR","Red","Green","Blue","White","UV"],r=JSON.parse(localStorage.getItem("schedules")||"[]");function i(d){if(!d)return 0;let[h,_,S]=d.split(":");return h=parseInt(h),_=parseInt(_),S==="PM"&&h!==12&&(h+=12),S==="AM"&&h===12&&(h=0),h*100+_}return{scheduleCount:r.length,schedules:r.map(d=>[!!d.enabled,i(d.start),i(d.end),...u.map(h=>d.lights&&d.lights.includes(h))])}}async function B(u,r){const d=await(await fetch(`${n}/api/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lighting:u,scheduleData:r})})).json();console.log("Backend response:",d)}const M=v(()=>{const u=m[l.value],r=o[l.value]/100,i=r;let d="";if(l.value==="White")d=`
        0 0 ${30+40*r}px 10px rgba(224,224,224,${i}),
        0 0 ${60+60*r}px 20px rgba(255,255,255,${i*.7})
      `;else{let h=function(k){k=k.replace("#",""),k.length===3&&(k=k.split("").map(V=>V+V).join(""));const y=parseInt(k,16);return[y>>16&255,y>>8&255,y&255]};const[_,S,b]=h(u);d=`
        0 0 ${30+40*r}px 10px rgba(${_},${S},${b},${i}),
        0 0 ${60+60*r}px 20px rgba(${_},${S},${b},${i*.7}),
        0 0 ${90+80*r}px 30px rgba(${_},${S},${b},${i*.4})
      `}return{width:"100px",height:"100px",borderRadius:"50%",background:l.value==="White"?"radial-gradient(circle, #fff 60%, #e0e0e0 100%)":`radial-gradient(circle, ${u} 60%, #222 100%)`,boxShadow:d,animation:`pulse ${1.2-r*.7}s infinite alternate`,transition:"background 0.3s, box-shadow 0.3s"}});return(u,r)=>(fe(),me("div",pt,[s(nt,{style:{margin:"auto"},width:"400"},{default:O(()=>[s(ae,{class:"d-flex flex-column align-center pt-6 pb-2"},{default:O(()=>r[3]||(r[3]=[te("span",{class:"text-h3 font-weight-bold text-center"},"LCMR_2",-1)])),_:1}),s(le,{class:"mb-2"}),s(ae,{class:"d-flex justify-center"},{default:O(()=>[s(et,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),class:"d-flex flex-wrap justify-center",mandatory:""},{default:O(()=>[(fe(),me(ke,null,Ge(t,i=>s(tt,{key:i,class:"ma-1",color:m[i],size:"small",value:i,variant:l.value===i?"elevated":"outlined"},{default:O(()=>[Je(he(i),1)]),_:2},1032,["color","value","variant"])),64))]),_:1},8,["modelValue"])]),_:1}),s(le),s(ae,{class:"d-flex justify-center my-4"},{default:O(()=>[te("div",{class:"d-flex align-center justify-center pulse-circle",style:be(M.value)},[te("span",{class:"text-h4 font-weight-bold",style:be({color:p.value})},he(o[l.value])+"% ",5)],4)]),_:1}),s(lt,null,{default:O(()=>[s(bt,{modelValue:o[l.value],"onUpdate:modelValue":[r[2]||(r[2]=i=>o[l.value]=i),N],class:"ma-4",color:m[l.value],"hide-details":"",max:100,step:1},{append:O(()=>[s(at,{modelValue:o[l.value],"onUpdate:modelValue":[r[1]||(r[1]=i=>o[l.value]=i),C],density:"compact","hide-details":"",max:100,style:{width:"80px"},suffix:"%",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1},8,["modelValue","color"])]),_:1}),s(le)]),_:1})]))}},xt=We(gt,[["__scopeId","data-v-15786361"]]);export{xt as default};
