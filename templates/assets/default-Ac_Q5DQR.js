import{p as T,i as Z,c as h,r as _,a as L,u as ge,t as w,b as z,g as oe,s as q,o as F,d as he,e as be,f as we,h as Ie,j as ne,k as xe,m as se,l as G,n as X,q as Se,v as Ve,w as W,x as c,y as Ce,z as Be,A as ke,B as Re,C as Pe,D as $e,E as Le,F as ze,G as Te,H as Me,I as Ne,J as le,K as _e,L as Ae,M as De,N as Oe,V as Ee,O as Ue,P as He,Q as je,R as Ke,S as Ze,T as qe,U as Fe,W as Ge,X as g,Y as Xe,Z as C,_ as N,$ as j,a0 as K}from"./index-DCsvryhv.js";import{V as We}from"./VDialog-eBStKkg9.js";import{V as Ye,a as Je,b as Qe}from"./forwardRefs-DVQ9_wDa.js";const A=Symbol.for("vuetify:layout"),ie=Symbol.for("vuetify:layout-item"),ae=1e3,et=T({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),tt=T({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function at(){const e=Z(A);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ot(e){const n=Z(A);if(!n)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${he()}`,i=oe("useLayoutItem");ne(ie,{id:a});const o=q(!1);be(()=>o.value=!0),we(()=>o.value=!1);const{layoutItemStyles:u,layoutItemScrimStyles:l}=n.register(i,{...e,active:h(()=>o.value?!1:e.active.value),id:a});return Ie(()=>n.unregister(a)),{layoutItemStyles:u,layoutRect:n.layoutRect,layoutItemScrimStyles:l}}const nt=(e,n,a,i)=>{let o={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...o}}];for(const l of e){const v=n.get(l),f=a.get(l),d=i.get(l);if(!v||!f||!d)continue;const t={...o,[v.value]:parseInt(o[v.value],10)+(d.value?parseInt(f.value,10):0)};u.push({id:l,layer:t}),o=t}return u};function st(e){const n=Z(A,null),a=h(()=>n?n.rootZIndex.value-100:ae),i=_([]),o=L(new Map),u=L(new Map),l=L(new Map),v=L(new Map),f=L(new Map),{resizeRef:d,contentRect:t}=ge(),S=h(()=>{const r=new Map,b=e.overlaps??[];for(const s of b.filter(p=>p.includes(":"))){const[p,m]=s.split(":");if(!i.value.includes(p)||!i.value.includes(m))continue;const I=o.get(p),V=o.get(m),R=u.get(p),P=u.get(m);!I||!V||!R||!P||(r.set(m,{position:I.value,amount:parseInt(R.value,10)}),r.set(p,{position:V.value,amount:-parseInt(P.value,10)}))}return r}),y=h(()=>{const r=[...new Set([...l.values()].map(s=>s.value))].sort((s,p)=>s-p),b=[];for(const s of r){const p=i.value.filter(m=>{var I;return((I=l.get(m))==null?void 0:I.value)===s});b.push(...p)}return nt(b,o,u,v)}),M=h(()=>!Array.from(f.values()).some(r=>r.value)),B=h(()=>y.value[y.value.length-1].layer),re=w(()=>({"--v-layout-left":z(B.value.left),"--v-layout-right":z(B.value.right),"--v-layout-top":z(B.value.top),"--v-layout-bottom":z(B.value.bottom),...M.value?void 0:{transition:"none"}})),k=h(()=>y.value.slice(1).map((r,b)=>{let{id:s}=r;const{layer:p}=y.value[b],m=u.get(s),I=o.get(s);return{id:s,...p,size:Number(m.value),position:I.value}})),Y=r=>k.value.find(b=>b.id===r),D=oe("createLayout"),J=q(!1);F(()=>{J.value=!0}),ne(A,{register:(r,b)=>{let{id:s,order:p,position:m,layoutSize:I,elementSize:V,active:R,disableTransitions:P,absolute:ve}=b;l.set(s,p),o.set(s,m),u.set(s,I),v.set(s,R),P&&f.set(s,P);const Q=xe(ie,D==null?void 0:D.vnode).indexOf(r);Q>-1?i.value.splice(Q,0,s):i.value.push(s);const ee=h(()=>k.value.findIndex($=>$.id===s)),O=h(()=>a.value+y.value.length*2-ee.value*2),me=h(()=>{const $=m.value==="left"||m.value==="right",E=m.value==="right",ye=m.value==="bottom",U=V.value??I.value,pe=U===0?"%":"px",te={[m.value]:0,zIndex:O.value,transform:`translate${$?"X":"Y"}(${(R.value?0:-(U===0?100:U))*(E||ye?-1:1)}${pe})`,position:ve.value||a.value!==ae?"absolute":"fixed",...M.value?void 0:{transition:"none"}};if(!J.value)return te;const x=k.value[ee.value];if(!x)throw new Error(`[Vuetify] Could not find layout item "${s}"`);const H=S.value.get(s);return H&&(x[H.position]+=H.amount),{...te,height:$?`calc(100% - ${x.top}px - ${x.bottom}px)`:V.value?`${V.value}px`:void 0,left:E?void 0:`${x.left}px`,right:E?`${x.right}px`:void 0,top:m.value!=="bottom"?`${x.top}px`:void 0,bottom:m.value!=="top"?`${x.bottom}px`:void 0,width:$?V.value?`${V.value}px`:void 0:`calc(100% - ${x.left}px - ${x.right}px)`}}),fe=h(()=>({zIndex:O.value-1}));return{layoutItemStyles:me,layoutItemScrimStyles:fe,zIndex:O}},unregister:r=>{l.delete(r),o.delete(r),u.delete(r),v.delete(r),f.delete(r),i.value=i.value.filter(b=>b!==r)},mainRect:B,mainStyles:re,getLayoutItem:Y,items:k,layoutRect:t,rootZIndex:a});const ce=w(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),de=w(()=>({zIndex:n?a.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:ce,layoutStyles:de,getLayoutItem:Y,items:k,layoutRect:t,layoutRef:d}}const lt=T({...G(),...et({fullHeight:!0}),...se()},"VApp"),it=X()({name:"VApp",props:lt(),setup(e,n){let{slots:a}=n;const i=Se(e),{layoutClasses:o,getLayoutItem:u,items:l,layoutRef:v}=st(e),{rtlClasses:f}=Ve();return W(()=>{var d;return c("div",{ref:v,class:["v-application",i.themeClasses.value,o.value,f.value,e.class],style:[e.style]},[c("div",{class:"v-application__wrap"},[(d=a.default)==null?void 0:d.call(a)])])}),{getLayoutItem:u,items:l,theme:i}}});function ue(){const e=q(!1);return F(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:w(()=>e.value?void 0:{transition:"none !important"}),isBooted:Ce(e)}}const ut=T({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Oe(),...G(),...De(),...Ae(),..._e(),...tt({name:"bottom-navigation"}),...le({tag:"header"}),...Ne({selectedClass:"v-btn--selected"}),...se()},"VBottomNavigation"),rt=X()({name:"VBottomNavigation",props:ut(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const{themeClasses:i}=Be(),{borderClasses:o}=ke(e),{backgroundColorClasses:u,backgroundColorStyles:l}=Re(()=>e.bgColor),{densityClasses:v}=Pe(e),{elevationClasses:f}=$e(e),{roundedClasses:d}=Le(e),{ssrBootStyles:t}=ue(),S=h(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),y=ze(e,"active",e.active),{layoutItemStyles:M}=ot({id:e.name,order:h(()=>parseInt(e.order,10)),position:w(()=>"bottom"),layoutSize:w(()=>y.value?S.value:0),elementSize:S,active:y,absolute:w(()=>e.absolute)});return Te(e,Ee),Me({VBtn:{baseColor:w(()=>e.baseColor),color:w(()=>e.color),density:w(()=>e.density),stacked:w(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),W(()=>c(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,u.value,o.value,v.value,f.value,d.value,e.class],style:[l.value,M.value,{height:z(S.value)},t.value,e.style]},{default:()=>[a.default&&c("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),ct=T({scrollable:Boolean,...G(),...He(),...le({tag:"main"})},"VMain"),dt=X()({name:"VMain",props:ct(),setup(e,n){let{slots:a}=n;const{dimensionStyles:i}=Ue(e),{mainStyles:o}=at(),{ssrBootStyles:u}=ue();return W(()=>c(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,u.value,i.value,e.style]},{default:()=>{var l,v;return[e.scrollable?c("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(v=a.default)==null?void 0:v.call(a)]}})),{}}}),pt={__name:"default",setup(e){const n=_(!1),a=`http://${window.location.hostname}:8080`,i=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let o=null;F(()=>{i||(o=setInterval(async()=>{try{const d=await fetch(`${a}/api/lock_status`),{local_lock:t}=await d.json();n.value=t}catch{}},1e3))}),je(()=>{o&&clearInterval(o)});const u=Ke(),l=["/","/timer","/data"],v=_(l.indexOf(u.path)),f=_("slide-left");return Ze(()=>u.path,(d,t)=>{const S=v.value,y=l.indexOf(d);f.value=y>S?"slide-left":"slide-right",v.value=y,console.log("Transition:",f.value)}),(d,t)=>{const S=Fe("router-view");return Ge(),qe(it,null,{default:g(()=>[c(dt,null,{default:g(()=>[c(Xe,{mode:"in-out",name:f.value},{default:g(()=>[c(S)]),_:1},8,["name"])]),_:1}),c(We,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=y=>n.value=y),"max-width":"320",persistent:""},{default:g(()=>[c(Ye,{class:"text-center",color:"warning"},{default:g(()=>[c(Je,{class:"text-h6"},{default:g(()=>t[1]||(t[1]=[C("Manual Interface In Use")])),_:1}),c(Qe,null,{default:g(()=>t[2]||(t[2]=[C(" The touchscreen interface is currently controlling the system."),N("br",null,null,-1),C(" Remote control will resume when the touchscreen is inactive for 5 seconds. ")])),_:1})]),_:1})]),_:1},8,["modelValue"]),c(rt,{color:"primary",grow:"",mode:"fixed",style:{"border-radius":"0 0 12px 12px"}},{default:g(()=>[c(j,{active:d.$route.path==="/",icon:"",to:"/"},{default:g(()=>[c(K,null,{default:g(()=>t[3]||(t[3]=[C("mdi-lightbulb-outline")])),_:1}),t[4]||(t[4]=N("span",null,"Light",-1))]),_:1},8,["active"]),c(j,{active:d.$route.path==="/timer",icon:"",to:"/timer"},{default:g(()=>[c(K,null,{default:g(()=>t[5]||(t[5]=[C("mdi-timer-outline")])),_:1}),t[6]||(t[6]=N("span",null,"Timer",-1))]),_:1},8,["active"]),c(j,{active:d.$route.path==="/data",icon:"",to:"/data"},{default:g(()=>[c(K,null,{default:g(()=>t[7]||(t[7]=[C("mdi-database-outline")])),_:1}),t[8]||(t[8]=N("span",null,"Data",-1))]),_:1},8,["active"])]),_:1})]),_:1})}}};export{pt as default};
