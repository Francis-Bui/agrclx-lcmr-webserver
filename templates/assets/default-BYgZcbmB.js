import{p as M,i as Z,c as h,r as _,a as L,u as ge,t as x,b as z,g as te,s as ae,o as oe,d as he,e as be,f as Ie,h as we,j as ne,k as xe,m as se,l as G,n as X,q as Ve,v as Se,w as q,x as c,y as Ce,z as ke,A as Be,B as Re,C as Pe,D as $e,E as Le,F as ze,G as Me,H as Te,I as le,J as Ne,K as _e,L as Ae,M as De,V as Oe,N as Ee,O as Ue,P as He,Q as je,R as Ke,S as Ze,T as Ge,U as Xe,W as p,X as qe,Y as C,Z as N,_ as j,$ as K}from"./index-CI3ZEO8d.js";import{u as ue}from"./ssrBoot-DXcAw7UC.js";import{V as Fe}from"./VDialog-C_GeEOFy.js";import{V as We,a as Ye,b as Je}from"./forwardRefs-DD3z6Xrt.js";const A=Symbol.for("vuetify:layout"),ie=Symbol.for("vuetify:layout-item"),ee=1e3,Qe=M({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),et=M({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function tt(){const e=Z(A);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function at(e){const n=Z(A);if(!n)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${he()}`,u=te("useLayoutItem");ne(ie,{id:a});const o=ae(!1);be(()=>o.value=!0),Ie(()=>o.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:l}=n.register(u,{...e,active:h(()=>o.value?!1:e.active.value),id:a});return we(()=>n.unregister(a)),{layoutItemStyles:i,layoutRect:n.layoutRect,layoutItemScrimStyles:l}}const ot=(e,n,a,u)=>{let o={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...o}}];for(const l of e){const v=n.get(l),g=a.get(l),d=u.get(l);if(!v||!g||!d)continue;const t={...o,[v.value]:parseInt(o[v.value],10)+(d.value?parseInt(g.value,10):0)};i.push({id:l,layer:t}),o=t}return i};function nt(e){const n=Z(A,null),a=h(()=>n?n.rootZIndex.value-100:ee),u=_([]),o=L(new Map),i=L(new Map),l=L(new Map),v=L(new Map),g=L(new Map),{resizeRef:d,contentRect:t}=ge(),V=h(()=>{const r=new Map,b=e.overlaps??[];for(const s of b.filter(y=>y.includes(":"))){const[y,m]=s.split(":");if(!u.value.includes(y)||!u.value.includes(m))continue;const I=o.get(y),S=o.get(m),R=i.get(y),P=i.get(m);!I||!S||!R||!P||(r.set(m,{position:I.value,amount:parseInt(R.value,10)}),r.set(y,{position:S.value,amount:-parseInt(P.value,10)}))}return r}),f=h(()=>{const r=[...new Set([...l.values()].map(s=>s.value))].sort((s,y)=>s-y),b=[];for(const s of r){const y=u.value.filter(m=>{var I;return((I=l.get(m))==null?void 0:I.value)===s});b.push(...y)}return ot(b,o,i,v)}),T=h(()=>!Array.from(g.values()).some(r=>r.value)),k=h(()=>f.value[f.value.length-1].layer),re=x(()=>({"--v-layout-left":z(k.value.left),"--v-layout-right":z(k.value.right),"--v-layout-top":z(k.value.top),"--v-layout-bottom":z(k.value.bottom),...T.value?void 0:{transition:"none"}})),B=h(()=>f.value.slice(1).map((r,b)=>{let{id:s}=r;const{layer:y}=f.value[b],m=i.get(s),I=o.get(s);return{id:s,...y,size:Number(m.value),position:I.value}})),F=r=>B.value.find(b=>b.id===r),D=te("createLayout"),W=ae(!1);oe(()=>{W.value=!0}),ne(A,{register:(r,b)=>{let{id:s,order:y,position:m,layoutSize:I,elementSize:S,active:R,disableTransitions:P,absolute:ve}=b;l.set(s,y),o.set(s,m),i.set(s,I),v.set(s,R),P&&g.set(s,P);const Y=xe(ie,D==null?void 0:D.vnode).indexOf(r);Y>-1?u.value.splice(Y,0,s):u.value.push(s);const J=h(()=>B.value.findIndex($=>$.id===s)),O=h(()=>a.value+f.value.length*2-J.value*2),me=h(()=>{const $=m.value==="left"||m.value==="right",E=m.value==="right",ye=m.value==="bottom",U=S.value??I.value,pe=U===0?"%":"px",Q={[m.value]:0,zIndex:O.value,transform:`translate${$?"X":"Y"}(${(R.value?0:-(U===0?100:U))*(E||ye?-1:1)}${pe})`,position:ve.value||a.value!==ee?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(!W.value)return Q;const w=B.value[J.value];if(!w)throw new Error(`[Vuetify] Could not find layout item "${s}"`);const H=V.value.get(s);return H&&(w[H.position]+=H.amount),{...Q,height:$?`calc(100% - ${w.top}px - ${w.bottom}px)`:S.value?`${S.value}px`:void 0,left:E?void 0:`${w.left}px`,right:E?`${w.right}px`:void 0,top:m.value!=="bottom"?`${w.top}px`:void 0,bottom:m.value!=="top"?`${w.bottom}px`:void 0,width:$?S.value?`${S.value}px`:void 0:`calc(100% - ${w.left}px - ${w.right}px)`}}),fe=h(()=>({zIndex:O.value-1}));return{layoutItemStyles:me,layoutItemScrimStyles:fe,zIndex:O}},unregister:r=>{l.delete(r),o.delete(r),i.delete(r),v.delete(r),g.delete(r),u.value=u.value.filter(b=>b!==r)},mainRect:k,mainStyles:re,getLayoutItem:F,items:B,layoutRect:t,rootZIndex:a});const ce=x(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),de=x(()=>({zIndex:n?a.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:ce,layoutStyles:de,getLayoutItem:F,items:B,layoutRect:t,layoutRef:d}}const st=M({...G(),...Qe({fullHeight:!0}),...se()},"VApp"),lt=X()({name:"VApp",props:st(),setup(e,n){let{slots:a}=n;const u=Ve(e),{layoutClasses:o,getLayoutItem:i,items:l,layoutRef:v}=nt(e),{rtlClasses:g}=Se();return q(()=>{var d;return c("div",{ref:v,class:["v-application",u.themeClasses.value,o.value,g.value,e.class],style:[e.style]},[c("div",{class:"v-application__wrap"},[(d=a.default)==null?void 0:d.call(a)])])}),{getLayoutItem:i,items:l,theme:u}}}),ut=M({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...De(),...G(),...Ae(),..._e(),...Ne(),...et({name:"bottom-navigation"}),...le({tag:"header"}),...Te({selectedClass:"v-btn--selected"}),...se()},"VBottomNavigation"),it=X()({name:"VBottomNavigation",props:ut(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const{themeClasses:u}=Ce(),{borderClasses:o}=ke(e),{backgroundColorClasses:i,backgroundColorStyles:l}=Be(()=>e.bgColor),{densityClasses:v}=Re(e),{elevationClasses:g}=Pe(e),{roundedClasses:d}=$e(e),{ssrBootStyles:t}=ue(),V=h(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),f=Le(e,"active",e.active),{layoutItemStyles:T}=at({id:e.name,order:h(()=>parseInt(e.order,10)),position:x(()=>"bottom"),layoutSize:x(()=>f.value?V.value:0),elementSize:V,active:f,absolute:x(()=>e.absolute)});return ze(e,Oe),Me({VBtn:{baseColor:x(()=>e.baseColor),color:x(()=>e.color),density:x(()=>e.density),stacked:x(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),q(()=>c(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},u.value,i.value,o.value,v.value,g.value,d.value,e.class],style:[l.value,T.value,{height:z(V.value)},t.value,e.style]},{default:()=>[a.default&&c("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),rt=M({scrollable:Boolean,...G(),...Ue(),...le({tag:"main"})},"VMain"),ct=X()({name:"VMain",props:rt(),setup(e,n){let{slots:a}=n;const{dimensionStyles:u}=Ee(e),{mainStyles:o}=tt(),{ssrBootStyles:i}=ue();return q(()=>c(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,i.value,u.value,e.style]},{default:()=>{var l,v;return[e.scrollable?c("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(v=a.default)==null?void 0:v.call(a)]}})),{}}}),pt={__name:"default",setup(e){const n=_(!1),a=`http://${window.location.hostname}:8080`,u=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let o=null;oe(()=>{u||(o=setInterval(async()=>{try{const d=await fetch(`${a}/api/lock_status`),{local_lock:t}=await d.json();n.value=t}catch{}},1e3))}),He(()=>{o&&clearInterval(o)});const i=je(),l=["/","/timer","/data"],v=_(l.indexOf(i.path)),g=_("slide-left");return Ke(()=>i.path,(d,t)=>{const V=v.value,f=l.indexOf(d);g.value=f>V?"slide-left":"slide-right",v.value=f}),(d,t)=>{const V=Ge("router-view");return Xe(),Ze(lt,null,{default:p(()=>[c(ct,null,{default:p(()=>[c(qe,{mode:"in-out",name:g.value},{default:p(()=>[c(V)]),_:1},8,["name"])]),_:1}),c(Fe,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=f=>n.value=f),"max-width":"320",persistent:""},{default:p(()=>[c(We,{class:"text-center",color:"warning"},{default:p(()=>[c(Ye,{class:"text-h6"},{default:p(()=>t[1]||(t[1]=[C("Manual Interface In Use")])),_:1}),c(Je,null,{default:p(()=>t[2]||(t[2]=[C(" The touchscreen interface is currently controlling the system."),N("br",null,null,-1),C(" Remote control will resume when the touchscreen is inactive for 5 seconds. ")])),_:1})]),_:1})]),_:1},8,["modelValue"]),c(it,{color:"primary",grow:"",mode:"fixed",style:{"border-radius":"0 0 12px 12px"}},{default:p(()=>[c(j,{active:d.$route.path==="/",icon:"",to:"/"},{default:p(()=>[c(K,null,{default:p(()=>t[3]||(t[3]=[C("mdi-lightbulb-outline")])),_:1}),t[4]||(t[4]=N("span",null,"Light",-1))]),_:1},8,["active"]),c(j,{active:d.$route.path==="/timer",icon:"",to:"/timer"},{default:p(()=>[c(K,null,{default:p(()=>t[5]||(t[5]=[C("mdi-timer-outline")])),_:1}),t[6]||(t[6]=N("span",null,"Timer",-1))]),_:1},8,["active"]),c(j,{active:d.$route.path==="/data",icon:"",to:"/data"},{default:p(()=>[c(K,null,{default:p(()=>t[7]||(t[7]=[C("mdi-database-outline")])),_:1}),t[8]||(t[8]=N("span",null,"Data",-1))]),_:1},8,["active"])]),_:1})]),_:1})}}};export{pt as default};
