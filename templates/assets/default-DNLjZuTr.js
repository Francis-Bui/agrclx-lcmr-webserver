import{p as N,i as Z,c as b,r as _,a as L,u as Ie,t as S,b as M,g as ne,s as se,o as le,d as we,e as xe,f as Se,h as Ce,j as ue,k as Ve,m as ie,l as X,n as q,q as ke,v as Be,w as F,x as i,y as Re,z as Pe,A as $e,B as ze,C as Le,D as Me,E as Ne,F as Te,G as _e,H as Ae,I as re,J as De,K as Oe,L as Ee,M as Ue,V as He,N as je,O as Ke,P as Ge,Q as Ze,R as Xe,S as qe,T as Fe,U as te,W as f,X as ae,Y as We,Z as Ye,_ as j,$ as Je,a0 as Qe,a1 as k,a2 as T,a3 as K,a4 as G}from"./index-ClPCLhcl.js";import{u as et,V as tt,a as at,b as ot,c as nt}from"./VDialog-BIZgPQem.js";import{u as ce}from"./ssrBoot-D1gTw-E_.js";const A=Symbol.for("vuetify:layout"),de=Symbol.for("vuetify:layout-item"),oe=1e3,st=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),lt=N({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ut(){const e=Z(A);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function it(e){const n=Z(A);if(!n)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${we()}`,r=ne("useLayoutItem");ue(de,{id:t});const o=se(!1);xe(()=>o.value=!0),Se(()=>o.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=n.register(r,{...e,active:b(()=>o.value?!1:e.active.value),id:t});return Ce(()=>n.unregister(t)),{layoutItemStyles:l,layoutRect:n.layoutRect,layoutItemScrimStyles:u}}const rt=(e,n,t,r)=>{let o={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...o}}];for(const u of e){const d=n.get(u),g=t.get(u),h=r.get(u);if(!d||!g||!h)continue;const m={...o,[d.value]:parseInt(o[d.value],10)+(h.value?parseInt(g.value,10):0)};l.push({id:u,layer:m}),o=m}return l};function ct(e){const n=Z(A,null),t=b(()=>n?n.rootZIndex.value-100:oe),r=_([]),o=L(new Map),l=L(new Map),u=L(new Map),d=L(new Map),g=L(new Map),{resizeRef:h,contentRect:m}=Ie(),a=b(()=>{const c=new Map,I=e.overlaps??[];for(const s of I.filter(p=>p.includes(":"))){const[p,v]=s.split(":");if(!r.value.includes(p)||!r.value.includes(v))continue;const w=o.get(p),C=o.get(v),P=l.get(p),$=l.get(v);!w||!C||!P||!$||(c.set(v,{position:w.value,amount:parseInt(P.value,10)}),c.set(p,{position:C.value,amount:-parseInt($.value,10)}))}return c}),y=b(()=>{const c=[...new Set([...u.values()].map(s=>s.value))].sort((s,p)=>s-p),I=[];for(const s of c){const p=r.value.filter(v=>{var w;return((w=u.get(v))==null?void 0:w.value)===s});I.push(...p)}return rt(I,o,l,d)}),V=b(()=>!Array.from(g.values()).some(c=>c.value)),B=b(()=>y.value[y.value.length-1].layer),ve=S(()=>({"--v-layout-left":M(B.value.left),"--v-layout-right":M(B.value.right),"--v-layout-top":M(B.value.top),"--v-layout-bottom":M(B.value.bottom),...V.value?void 0:{transition:"none"}})),R=b(()=>y.value.slice(1).map((c,I)=>{let{id:s}=c;const{layer:p}=y.value[I],v=l.get(s),w=o.get(s);return{id:s,...p,size:Number(v.value),position:w.value}})),W=c=>R.value.find(I=>I.id===c),D=ne("createLayout"),Y=se(!1);le(()=>{Y.value=!0}),ue(A,{register:(c,I)=>{let{id:s,order:p,position:v,layoutSize:w,elementSize:C,active:P,disableTransitions:$,absolute:ye}=I;u.set(s,p),o.set(s,v),l.set(s,w),d.set(s,P),$&&g.set(s,$);const J=Ve(de,D==null?void 0:D.vnode).indexOf(c);J>-1?r.value.splice(J,0,s):r.value.push(s);const Q=b(()=>R.value.findIndex(z=>z.id===s)),O=b(()=>t.value+y.value.length*2-Q.value*2),pe=b(()=>{const z=v.value==="left"||v.value==="right",E=v.value==="right",be=v.value==="bottom",U=C.value??w.value,he=U===0?"%":"px",ee={[v.value]:0,zIndex:O.value,transform:`translate${z?"X":"Y"}(${(P.value?0:-(U===0?100:U))*(E||be?-1:1)}${he})`,position:ye.value||t.value!==oe?"absolute":"fixed",...V.value?void 0:{transition:"none"}};if(!Y.value)return ee;const x=R.value[Q.value];if(!x)throw new Error(`[Vuetify] Could not find layout item "${s}"`);const H=a.value.get(s);return H&&(x[H.position]+=H.amount),{...ee,height:z?`calc(100% - ${x.top}px - ${x.bottom}px)`:C.value?`${C.value}px`:void 0,left:E?void 0:`${x.left}px`,right:E?`${x.right}px`:void 0,top:v.value!=="bottom"?`${x.top}px`:void 0,bottom:v.value!=="top"?`${x.bottom}px`:void 0,width:z?C.value?`${C.value}px`:void 0:`calc(100% - ${x.left}px - ${x.right}px)`}}),ge=b(()=>({zIndex:O.value-1}));return{layoutItemStyles:pe,layoutItemScrimStyles:ge,zIndex:O}},unregister:c=>{u.delete(c),o.delete(c),l.delete(c),d.delete(c),g.delete(c),r.value=r.value.filter(I=>I!==c)},mainRect:B,mainStyles:ve,getLayoutItem:W,items:R,layoutRect:m,rootZIndex:t});const me=S(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),fe=S(()=>({zIndex:n?t.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:me,layoutStyles:fe,getLayoutItem:W,items:R,layoutRect:m,layoutRef:h}}const dt=N({...X(),...st({fullHeight:!0}),...ie()},"VApp"),vt=q()({name:"VApp",props:dt(),setup(e,n){let{slots:t}=n;const r=ke(e),{layoutClasses:o,getLayoutItem:l,items:u,layoutRef:d}=ct(e),{rtlClasses:g}=Be();return F(()=>{var h;return i("div",{ref:d,class:["v-application",r.themeClasses.value,o.value,g.value,e.class],style:[e.style]},[i("div",{class:"v-application__wrap"},[(h=t.default)==null?void 0:h.call(t)])])}),{getLayoutItem:l,items:u,theme:r}}}),mt=N({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Ue(),...X(),...Ee(),...Oe(),...De(),...lt({name:"bottom-navigation"}),...re({tag:"header"}),...Ae({selectedClass:"v-btn--selected"}),...ie()},"VBottomNavigation"),ft=q()({name:"VBottomNavigation",props:mt(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:r}=Re(),{borderClasses:o}=Pe(e),{backgroundColorClasses:l,backgroundColorStyles:u}=$e(()=>e.bgColor),{densityClasses:d}=ze(e),{elevationClasses:g}=Le(e),{roundedClasses:h}=Me(e),{ssrBootStyles:m}=ce(),a=b(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),y=Ne(e,"active",e.active),{layoutItemStyles:V}=it({id:e.name,order:b(()=>parseInt(e.order,10)),position:S(()=>"bottom"),layoutSize:S(()=>y.value?a.value:0),elementSize:a,active:y,absolute:S(()=>e.absolute)});return Te(e,He),_e({VBtn:{baseColor:S(()=>e.baseColor),color:S(()=>e.color),density:S(()=>e.density),stacked:S(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),F(()=>i(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,l.value,o.value,d.value,g.value,h.value,e.class],style:[u.value,V.value,{height:M(a.value)},m.value,e.style]},{default:()=>[t.default&&i("div",{class:"v-bottom-navigation__content"},[t.default()])]})),{}}}),yt=N({scrollable:Boolean,...X(),...Ke(),...re({tag:"main"})},"VMain"),pt=q()({name:"VMain",props:yt(),setup(e,n){let{slots:t}=n;const{dimensionStyles:r}=je(e),{mainStyles:o}=ut(),{ssrBootStyles:l}=ce();return F(()=>i(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,l.value,r.value,e.style]},{default:()=>{var u,d;return[e.scrollable?i("div",{class:"v-main__scroller"},[(u=t.default)==null?void 0:u.call(t)]):(d=t.default)==null?void 0:d.call(t)]}})),{}}}),wt={__name:"default",setup(e){const{alert:n}=et(),t=_(!1),r=`http://${window.location.hostname}:8080`,o=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let l=null;le(()=>{o||(l=setInterval(async()=>{try{const m=await fetch(`${r}/api/lock_status`),{local_lock:a}=await m.json();t.value=a}catch{}},1e3))}),Ge(()=>{l&&clearInterval(l)});const u=Ze(),d=["/","/timer","/data"],g=_(d.indexOf(u.path)),h=_("slide-left");return Xe(()=>u.path,m=>{const a=g.value,y=d.indexOf(m);h.value=y>a?"slide-left":"slide-right",g.value=y}),(m,a)=>{const y=Fe("router-view");return te(),qe(vt,null,{default:f(()=>[i(pt,null,{default:f(()=>[i(ae,{mode:"in-out",name:h.value},{default:f(()=>[i(y)]),_:1},8,["name"])]),_:1}),i(ae,{name:"bounce-fade"},{default:f(()=>[j(n).visible?(te(),We("div",{key:0,class:Je(["alert",j(n).type])},Qe(j(n).message),3)):Ye("",!0)]),_:1}),i(tt,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=V=>t.value=V),"max-width":"320",persistent:""},{default:f(()=>[i(at,{class:"text-center",color:"warning"},{default:f(()=>[i(ot,{class:"text-h6"},{default:f(()=>a[1]||(a[1]=[k("Manual Interface In Use")])),_:1}),i(nt,null,{default:f(()=>a[2]||(a[2]=[k(" The touchscreen interface is currently controlling the system."),T("br",null,null,-1),k(" Remote control will resume when the touchscreen is inactive for 5 seconds. ")])),_:1})]),_:1})]),_:1},8,["modelValue"]),i(ft,{color:"primary",grow:"",mode:"fixed",style:{"border-radius":"0 0 12px 12px"}},{default:f(()=>[i(K,{active:m.$route.path==="/",icon:"",to:"/"},{default:f(()=>[i(G,null,{default:f(()=>a[3]||(a[3]=[k("mdi-lightbulb-outline")])),_:1}),a[4]||(a[4]=T("span",null,"Light",-1))]),_:1},8,["active"]),i(K,{active:m.$route.path==="/timer",icon:"",to:"/timer"},{default:f(()=>[i(G,null,{default:f(()=>a[5]||(a[5]=[k("mdi-timer-outline")])),_:1}),a[6]||(a[6]=T("span",null,"Timer",-1))]),_:1},8,["active"]),i(K,{active:m.$route.path==="/data",icon:"",to:"/data"},{default:f(()=>[i(G,null,{default:f(()=>a[7]||(a[7]=[k("mdi-database-outline")])),_:1}),a[8]||(a[8]=T("span",null,"Data",-1))]),_:1},8,["active"])]),_:1})]),_:1})}}};export{wt as default};
