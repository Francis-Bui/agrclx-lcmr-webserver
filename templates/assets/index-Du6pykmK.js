import{g as Z,p as J,b as Pe,j as Ce,k as v,l as D,c as ee,d as a,m as Me,a as oe,n as ve,u as ue,t as L,s as me,q,v as Le,x as Ee,y as ze,z as _e,A as De,B as Ue,R as je,C as Te,D as Oe,E as We,F as fe,G as Ae,H as Ge,I as Ke,J as he,K as qe,L as ie,M as Je,_ as Xe,N as Ye,O as be,P as pe,Q as He,S as ge,o as ye,w as V,T as O,U as Qe,V as W,W as ke,X as Se,Y as ae,Z as ne}from"./index-BfB4Vkma.js";import{V as se,a as Ze}from"./VContainer-jKYFttwg.js";import{V as et,u as tt,a as Ve,b as lt,m as at,c as nt,d as st,e as rt,f as we,g as it,h as xe,i as ot,j as ut}from"./VTextField-C1NKDW4q.js";import"./ssrBoot-DcVSrD9k.js";const dt=J({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...oe(),...Me()},"VDivider"),re=Z()({name:"VDivider",props:dt(),setup(e,l){let{attrs:r,slots:f}=l;const{themeClasses:g}=Pe(e),{textColorClasses:x,textColorStyles:u}=Ce(()=>e.color),s=v(()=>{const m={};return e.length&&(m[e.vertical?"height":"width"]=D(e.length)),e.thickness&&(m[e.vertical?"borderRightWidth":"borderTopWidth"]=D(e.thickness)),m});return ee(()=>{const m=a("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},g.value,x.value,e.class],style:[s.value,u.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null);return f.default?a("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[m,a("div",{class:"v-divider__content"},[f.default()]),m]):m}),{}}}),de=Symbol.for("vuetify:v-slider");function ct(e,l,r){const f=r==="vertical",g=l.getBoundingClientRect(),x="touches"in e?e.touches[0]:e;return f?x.clientY-(g.top+g.height/2):x.clientX-(g.left+g.width/2)}function vt(e,l){return"touches"in e&&e.touches.length?e.touches[0][l]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][l]:e[l]}const mt=J({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...ze(),...Ee({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),ft=e=>{const l=v(()=>parseFloat(e.min)),r=v(()=>parseFloat(e.max)),f=v(()=>Number(e.step)>0?parseFloat(e.step):0),g=v(()=>Math.max(ve(f.value),ve(l.value)));function x(u){if(u=parseFloat(u),f.value<=0)return u;const s=_e(u,l.value,r.value),m=l.value%f.value,T=Math.round((s-m)/f.value)*f.value+m;return parseFloat(Math.min(T,r.value).toFixed(g.value))}return{min:l,max:r,step:f,decimals:g,roundValue:x}},ht=e=>{let{props:l,steps:r,onSliderStart:f,onSliderMove:g,onSliderEnd:x,getActiveThumb:u}=e;const{isRtl:s}=ue(),m=L(()=>l.reverse),T=v(()=>l.direction==="vertical"),N=v(()=>T.value!==m.value),{min:C,max:R,step:B,decimals:M,roundValue:P}=r,E=v(()=>parseInt(l.thumbSize,10)),i=v(()=>parseInt(l.tickSize,10)),t=v(()=>parseInt(l.trackSize,10)),o=v(()=>(R.value-C.value)/B.value),h=L(()=>l.disabled),b=v(()=>l.error||l.disabled?void 0:l.thumbColor??l.color),d=v(()=>l.error||l.disabled?void 0:l.trackColor??l.color),S=v(()=>l.error||l.disabled?void 0:l.trackFillColor??l.color),k=me(!1),p=me(0),_=q(),I=q();function y(n){var ce;const c=(ce=_.value)==null?void 0:ce.$el;if(!c)return;const j=l.direction==="vertical",Re=j?"top":"left",Ie=j?"height":"width",$e=j?"clientY":"clientX",{[Re]:Fe,[Ie]:Ne}=c.getBoundingClientRect(),Be=vt(n,$e);let le=Math.min(Math.max((Be-Fe-p.value)/Ne,0),1)||0;return(j?N.value:N.value!==s.value)&&(le=1-le),P(C.value+le*(R.value-C.value))}const z=n=>{const c=y(n);c!=null&&x({value:c}),k.value=!1,p.value=0},U=n=>{const c=y(n);I.value=u(n),I.value&&(k.value=!0,I.value.contains(n.target)?p.value=ct(n,I.value,l.direction):(p.value=0,c!=null&&g({value:c})),c!=null&&f({value:c}),De(()=>{var j;return(j=I.value)==null?void 0:j.focus()}))},F={passive:!0,capture:!0};function A(n){const c=y(n);c!=null&&g({value:c})}function X(n){n.stopPropagation(),n.preventDefault(),z(n),window.removeEventListener("mousemove",A,F),window.removeEventListener("mouseup",X)}function Y(n){var c;z(n),window.removeEventListener("touchmove",A,F),(c=n.target)==null||c.removeEventListener("touchend",Y)}function te(n){var c;U(n),window.addEventListener("touchmove",A,F),(c=n.target)==null||c.addEventListener("touchend",Y,{passive:!1})}function $(n){n.button===0&&(n.preventDefault(),U(n),window.addEventListener("mousemove",A,F),window.addEventListener("mouseup",X,{passive:!1}))}const w=n=>{const c=(n-C.value)/(R.value-C.value)*100;return _e(isNaN(c)?0:c,0,100)},G=L(()=>l.showTicks),K=v(()=>G.value?l.ticks?Array.isArray(l.ticks)?l.ticks.map(n=>({value:n,position:w(n),label:n.toString()})):Object.keys(l.ticks).map(n=>({value:parseFloat(n),position:w(parseFloat(n)),label:l.ticks[n]})):o.value!==1/0?Le(o.value+1).map(n=>{const c=C.value+n*B.value;return{value:c,position:w(c)}}):[]:[]),H=v(()=>K.value.some(n=>{let{label:c}=n;return!!c})),Q={activeThumbRef:I,color:L(()=>l.color),decimals:M,disabled:h,direction:L(()=>l.direction),elevation:L(()=>l.elevation),hasLabels:H,isReversed:m,indexFromEnd:N,min:C,max:R,mousePressed:k,numTicks:o,onSliderMousedown:$,onSliderTouchstart:te,parsedTicks:K,parseMouseMove:y,position:w,readonly:L(()=>l.readonly),rounded:L(()=>l.rounded),roundValue:P,showTicks:G,startOffset:p,step:B,thumbSize:E,thumbColor:b,thumbLabel:L(()=>l.thumbLabel),ticks:L(()=>l.ticks),tickSize:i,trackColor:d,trackContainerRef:_,trackFillColor:S,trackSize:t,vertical:T};return Ue(de,Q),Q},bt=J({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...oe()},"VSliderThumb"),pt=Z()({name:"VSliderThumb",directives:{Ripple:je},props:bt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:r,emit:f}=l;const g=Te(de),{isRtl:x,rtlClasses:u}=ue();if(!g)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:m,disabled:T,thumbSize:N,thumbLabel:C,direction:R,isReversed:B,vertical:M,readonly:P,elevation:E,mousePressed:i,decimals:t,indexFromEnd:o}=g,h=v(()=>T.value?void 0:E.value),{elevationClasses:b}=Oe(h),{textColorClasses:d,textColorStyles:S}=Ce(s),{pageup:k,pagedown:p,end:_,home:I,left:y,right:z,down:U,up:F}=We,A=[k,p,_,I,y,z,U,F],X=v(()=>m.value?[1,2,3]:[1,5,10]);function Y($,w){if(!A.includes($.key))return;$.preventDefault();const G=m.value||.1,K=(e.max-e.min)/G;if([y,z,U,F].includes($.key)){const Q=(M.value?[x.value?y:z,B.value?U:F]:o.value!==x.value?[y,F]:[z,F]).includes($.key)?1:-1,n=$.shiftKey?2:$.ctrlKey?1:0;w=w+Q*G*X.value[n]}else if($.key===I)w=e.min;else if($.key===_)w=e.max;else{const H=$.key===p?1:-1;w=w-H*G*(K>100?K/10:10)}return Math.max(e.min,Math.min(e.max,w))}function te($){const w=Y($,e.modelValue);w!=null&&f("update:modelValue",w)}return ee(()=>{const $=D(o.value?100-e.position:e.position,"%");return a("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&i.value},e.class,u.value],style:[{"--v-slider-thumb-position":$,"--v-slider-thumb-size":D(N.value)},e.style],role:"slider",tabindex:T.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!P.value,"aria-orientation":R.value,onKeydown:P.value?void 0:te},[a("div",{class:["v-slider-thumb__surface",d.value,b.value],style:{...S.value}},null),fe(a("div",{class:["v-slider-thumb__ripple",d.value],style:S.value},null),[[Ae("ripple"),e.ripple,null,{circle:!0,center:!0}]]),a(et,{origin:"bottom center"},{default:()=>{var w;return[fe(a("div",{class:"v-slider-thumb__label-container"},[a("div",{class:["v-slider-thumb__label"]},[a("div",null,[((w=r["thumb-label"])==null?void 0:w.call(r,{modelValue:e.modelValue}))??e.modelValue.toFixed(m.value?t.value:1)])])]),[[Ge,C.value&&e.focused||C.value==="always"]])]}})])}),{}}}),gt=J({start:{type:Number,required:!0},stop:{type:Number,required:!0},...oe()},"VSliderTrack"),yt=Z()({name:"VSliderTrack",props:gt(),emits:{},setup(e,l){let{slots:r}=l;const f=Te(de);if(!f)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:g,parsedTicks:x,rounded:u,showTicks:s,tickSize:m,trackColor:T,trackFillColor:N,trackSize:C,vertical:R,min:B,max:M,indexFromEnd:P}=f,{roundedClasses:E}=Ke(u),{backgroundColorClasses:i,backgroundColorStyles:t}=he(N),{backgroundColorClasses:o,backgroundColorStyles:h}=he(T),b=v(()=>`inset-${R.value?"block":"inline"}-${P.value?"end":"start"}`),d=v(()=>R.value?"height":"width"),S=v(()=>({[b.value]:"0%",[d.value]:"100%"})),k=v(()=>e.stop-e.start),p=v(()=>({[b.value]:D(e.start,"%"),[d.value]:D(k.value,"%")})),_=v(()=>s.value?(R.value?x.value.slice().reverse():x.value).map((y,z)=>{var F;const U=y.value!==B.value&&y.value!==M.value?D(y.position,"%"):void 0;return a("div",{key:y.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":y.position>=e.start&&y.position<=e.stop,"v-slider-track__tick--first":y.value===B.value,"v-slider-track__tick--last":y.value===M.value}],style:{[b.value]:U}},[(y.label||r["tick-label"])&&a("div",{class:"v-slider-track__tick-label"},[((F=r["tick-label"])==null?void 0:F.call(r,{tick:y,index:z}))??y.label])])}):[]);return ee(()=>a("div",{class:["v-slider-track",E.value,e.class],style:[{"--v-slider-track-size":D(C.value),"--v-slider-tick-size":D(m.value)},e.style]},[a("div",{class:["v-slider-track__background",o.value,{"v-slider-track__background--opacity":!!g.value||!N.value}],style:{...S.value,...h.value}},null),a("div",{class:["v-slider-track__fill",i.value],style:{...p.value,...t.value}},null),s.value&&a("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[_.value])])),{}}}),kt=J({...nt(),...mt(),...at(),modelValue:{type:[Number,String],default:0}},"VSlider"),St=Z()({name:"VSlider",props:kt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,l){let{slots:r,emit:f}=l;const g=q(),{rtlClasses:x}=ue(),u=ft(e),s=qe(e,"modelValue",void 0,d=>u.roundValue(d??u.min.value)),{min:m,max:T,mousePressed:N,roundValue:C,onSliderMousedown:R,onSliderTouchstart:B,trackContainerRef:M,position:P,hasLabels:E,readonly:i}=ht({props:e,steps:u,onSliderStart:()=>{f("start",s.value)},onSliderEnd:d=>{let{value:S}=d;const k=C(S);s.value=k,f("end",k)},onSliderMove:d=>{let{value:S}=d;return s.value=C(S)},getActiveThumb:()=>{var d;return(d=g.value)==null?void 0:d.$el}}),{isFocused:t,focus:o,blur:h}=tt(e),b=v(()=>P(s.value));return ee(()=>{const d=Ve.filterProps(e),S=!!(e.label||r.label||r.prepend);return a(Ve,Je({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||E.value,"v-slider--focused":t.value,"v-slider--pressed":N.value,"v-slider--disabled":e.disabled},x.value,e.class],style:e.style},d,{focused:t.value}),{...r,prepend:S?k=>{var p,_;return a(ie,null,[((p=r.label)==null?void 0:p.call(r,k))??(e.label?a(lt,{id:k.id.value,class:"v-slider__label",text:e.label},null):void 0),(_=r.prepend)==null?void 0:_.call(r,k)])}:void 0,default:k=>{let{id:p,messagesId:_}=k;return a("div",{class:"v-slider__container",onMousedown:i.value?void 0:R,onTouchstartPassive:i.value?void 0:B},[a("input",{id:p.value,name:e.name||p.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),a(yt,{ref:M,start:0,stop:b.value},{"tick-label":r["tick-label"]}),a(pt,{ref:g,"aria-describedby":_.value,focused:t.value,min:m.value,max:T.value,modelValue:s.value,"onUpdate:modelValue":I=>s.value=I,position:b.value,elevation:e.elevation,onFocus:o,onBlur:h,ripple:e.ripple,name:e.name},{"thumb-label":r["thumb-label"]})])}})}),{}}}),Vt={__name:"index",setup(e){const l=["IR","Red","Green","Blue","White","UV"],r=`http://${window.location.hostname}:8080`,f={IR:"#ff5252",Red:"#ff5252",Green:"#4caf50",Blue:"#2196f3",White:"#e0e0e0",UV:"#7c4dff"},g=v(()=>s.value==="White"?"#333":"#fff"),u=Ye({...{IR:0,Red:0,Green:0,Blue:0,White:0,UV:0}}),s=q("IR"),m=q(!1);let T=null;const N=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";be(()=>{N||(T=setInterval(async()=>{try{const i=await fetch(`${r}/api/lock_status`),{local_lock:t}=await i.json();m.value=t}catch(i){console.error("Error fetching lock status:",i)}},1e3)),setInterval(async()=>{try{const t=await(await fetch(`${r}/api/state`)).json();t.lighting&&["IR","Red","Green","Blue","White","UV"].forEach((h,b)=>{u[h]=t.lighting[b]})}catch(i){console.error("Error fetching state:",i)}},1e3)}),be(()=>{const i=localStorage.getItem("lightSliderValues");i&&Object.assign(u,JSON.parse(i));const t=localStorage.getItem("selectedChip");t&&l.includes(t)&&(s.value=t)}),pe(u,i=>{localStorage.setItem("lightSliderValues",JSON.stringify(i))},{deep:!0}),pe(s,i=>{localStorage.setItem("selectedChip",i)}),He(()=>{T&&clearInterval(T)});function C(){return["IR","Red","Green","Blue","White","UV"].map(t=>Number(u[t])||0)}function R(){localStorage.setItem("lightSliderValues",JSON.stringify(u)),P(C(),M())}function B(i){i>100?u[s.value]=100:i<0&&(u[s.value]=0),R()}function M(){const i=["IR","Red","Green","Blue","White","UV"],t=JSON.parse(localStorage.getItem("schedules")||"[]");function o(h){if(!h)return 0;let[b,d,S]=h.split(":");return b=parseInt(b),d=parseInt(d),S==="PM"&&b!==12&&(b+=12),S==="AM"&&b===12&&(b=0),b*100+d}return{scheduleCount:t.length,schedules:t.map(h=>[!!h.enabled,o(h.start),o(h.end),...i.map(b=>h.lights&&h.lights.includes(b))])}}async function P(i,t){const o=await fetch(`${r}/api/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lighting:i,scheduleData:t})});if(o.status===423){m.value=!0;return}const h=await o.json();console.log("Backend response:",h)}const E=v(()=>{const i=f[s.value],t=u[s.value]/100,o=t;let h="";if(s.value==="White")h=`
        0 0 ${30+40*t}px 10px rgba(224,224,224,${o}),
        0 0 ${60+60*t}px 20px rgba(255,255,255,${o*.7})
      `;else{let b=function(p){p=p.replace("#",""),p.length===3&&(p=p.split("").map(I=>I+I).join(""));const _=parseInt(p,16);return[_>>16&255,_>>8&255,_&255]};const[d,S,k]=b(i);h=`
        0 0 ${30+40*t}px 10px rgba(${d},${S},${k},${o}),
        0 0 ${60+60*t}px 20px rgba(${d},${S},${k},${o*.7}),
        0 0 ${90+80*t}px 30px rgba(${d},${S},${k},${o*.4})
      `}return{width:"100px",height:"100px",borderRadius:"50%",background:s.value==="White"?"radial-gradient(circle, #fff 60%, #e0e0e0 100%)":`radial-gradient(circle, ${i} 60%, #222 100%)`,boxShadow:h,animation:`pulse ${1.2-t*.7}s infinite alternate`,transition:"background 0.3s, box-shadow 0.3s"}});return(i,t)=>(ye(),ge(ie,null,[a(xe,{style:{margin:"auto"},width:"400"},{default:V(()=>[a(se,{class:"d-flex flex-column align-center pt-6 pb-2"},{default:V(()=>t[4]||(t[4]=[O("span",{class:"text-h3 font-weight-bold text-center"},"LCMR_2",-1)])),_:1}),a(re,{class:"mb-2"}),a(se,{class:"d-flex justify-center"},{default:V(()=>[a(st,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),class:"d-flex flex-wrap justify-center",mandatory:""},{default:V(()=>[(ye(),ge(ie,null,Qe(l,o=>a(rt,{key:o,class:"ma-1",color:f[o],size:"small",value:o,variant:s.value===o?"elevated":"outlined"},{default:V(()=>[W(ke(o),1)]),_:2},1032,["color","value","variant"])),64))]),_:1},8,["modelValue"])]),_:1}),a(re),a(se,{class:"d-flex justify-center my-4"},{default:V(()=>[O("div",{class:"d-flex align-center justify-center pulse-circle",style:Se(E.value)},[O("span",{class:"text-h4 font-weight-bold",style:Se({color:g.value})},ke(u[s.value])+"% ",5)],4)]),_:1}),a(we,null,{default:V(()=>[a(St,{modelValue:u[s.value],"onUpdate:modelValue":[t[2]||(t[2]=o=>u[s.value]=o),R],class:"ma-4",color:f[s.value],"hide-details":"",max:100,step:1},{append:V(()=>[a(it,{modelValue:u[s.value],"onUpdate:modelValue":[t[1]||(t[1]=o=>u[s.value]=o),B],density:"compact","hide-details":"",max:100,style:{width:"80px"},suffix:"%",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1},8,["modelValue","color"])]),_:1}),a(re),a(Ze,{color:"primary",grow:"",mode:"fixed",style:{"border-radius":"0 0 12px 12px"}},{default:V(()=>[a(ae,{active:i.$route.path==="/",icon:"",to:"/"},{default:V(()=>[a(ne,null,{default:V(()=>t[5]||(t[5]=[W("mdi-lightbulb-outline")])),_:1}),t[6]||(t[6]=O("span",null,"Light",-1))]),_:1},8,["active"]),a(ae,{active:i.$route.path==="/timer",icon:"",to:"/timer"},{default:V(()=>[a(ne,null,{default:V(()=>t[7]||(t[7]=[W("mdi-timer-outline")])),_:1}),t[8]||(t[8]=O("span",null,"Timer",-1))]),_:1},8,["active"]),a(ae,{active:i.$route.path==="/data",icon:"",to:"/data"},{default:V(()=>[a(ne,null,{default:V(()=>t[9]||(t[9]=[W("mdi-database-outline")])),_:1}),t[10]||(t[10]=O("span",null,"Data",-1))]),_:1},8,["active"])]),_:1})]),_:1}),a(ut,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=o=>m.value=o),"max-width":"320",persistent:""},{default:V(()=>[a(xe,{class:"text-center",color:"warning"},{default:V(()=>[a(ot,{class:"text-h6"},{default:V(()=>t[11]||(t[11]=[W("Manual Interface In Use")])),_:1}),a(we,null,{default:V(()=>t[12]||(t[12]=[W(" The touchscreen interface is currently controlling the system."),O("br",null,null,-1),W(" Remote control will resume when the touchscreen is inactive for 5 seconds. ")])),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Tt=Xe(Vt,[["__scopeId","data-v-c49b5e52"]]);export{Tt as default};
